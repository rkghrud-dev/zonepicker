<Window x:Class="ZoneRouter.UI.OverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ZoneRouter Overlay"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        WindowState="Maximized">

    <Grid>
        <!-- Zone 시각화 레이어 -->
        <Canvas x:Name="ZoneCanvas" IsHitTestVisible="False"/>

        <!-- 분할선 레이어 -->
        <Canvas x:Name="LineCanvas" IsHitTestVisible="False"/>

        <!-- 드래그 가능한 분할점 -->
        <Canvas x:Name="HandleCanvas">
            <Ellipse x:Name="SplitHandle"
                     Width="20" Height="20"
                     Fill="#CC2196F3"
                     Stroke="White" StrokeThickness="2"
                     Cursor="SizeAll"
                     Canvas.Left="0" Canvas.Top="0"
                     MouseLeftButtonDown="SplitHandle_MouseDown"
                     MouseLeftButtonUp="SplitHandle_MouseUp"
                     MouseMove="SplitHandle_MouseMove"/>
        </Canvas>

        <!-- 하단 컨트롤 바 -->
        <StackPanel VerticalAlignment="Bottom" HorizontalAlignment="Center"
                    Orientation="Horizontal" Margin="0,0,0,20">

            <Button x:Name="BtnConfirm" Content="분할 확정"
                    Width="100" Height="36" Margin="5,0"
                    Background="#2196F3" Foreground="White"
                    FontWeight="Bold" BorderThickness="0"
                    Click="BtnConfirm_Click"/>

            <Button x:Name="BtnSendActive" Content="활성 창 → Zone"
                    Width="130" Height="36" Margin="5,0"
                    Background="#4CAF50" Foreground="White"
                    FontWeight="Bold" BorderThickness="0"
                    Click="BtnSendActive_Click"/>

            <Button x:Name="BtnToggle" Content="오버레이 보기"
                    Width="110" Height="36" Margin="5,0"
                    Background="#FF9800" Foreground="White"
                    FontWeight="Bold" BorderThickness="0"
                    Click="BtnToggle_Click"/>
        </StackPanel>

        <!-- Zone Bar 영역 (각 Zone 상단) -->
        <Canvas x:Name="ZoneBarCanvas" IsHitTestVisible="True"/>
    </Grid>
</Window>
